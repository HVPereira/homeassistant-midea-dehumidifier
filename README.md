[<img src = "https://github.com/barban-dev/homeassistant-midea-dehumidifier/blob/master/images/ha-logo.png?raw=true" height = "100">](https://www.home-assistant.io/) 
# Home Assistant Custom Integration for EVA II PRO WiFi Smart Dehumidifier appliance by Midea/Inventor.

[![HitCount](http://hits.dwyl.com/barban_dev/homeassistant_midea_dehumidifier.svg)](http://hits.dwyl.com/barban_dev/homeassistant_midea_dehumidifier)
[![Donate](https://img.shields.io/badge/Donate-PayPal-green.svg)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5E7ULVFGCGKU2&source=url)


Author: Andrea Barbaresi =2020=

Licence: GPLv3

This repo contains a Home Assistant custom integration for EVA II PRO WiFi Smart Dehumidifier appliance by Midea/Inventor.

This custom component is baded on python library [***midea_inventor_lib***.](https://github.com/barban-dev/midea_inventor_dehumidifier): see library's readme and prerequisites to be able to control your device on Home Assistant.

Info about the dehumidifier appliance can be found [here.](https://www.inventorappliances.com/dehumidifiers/eva-ii-pro-wi-fi-20l)

You can buy the smart dehumidifier appliance (WiFi version) on Amazon (the two links below contain my referral code):
* [Amazon.co.uk](https://www.amazon.co.uk/gp/product/B07665CCSM/ref=as_li_qf_asin_il_tl?ie=UTF8&tag=barban0d-21&creative=6738&linkCode=as2&creativeASIN=B07665CCSM&linkId=a7408b12a09679586e1816acc3c9d74b)
* [Amazon.it](https://www.amazon.it/gp/product/B075486X31/ref=as_li_tl?ie=UTF8&camp=3414&creative=21718&creativeASIN=B075486X31&linkCode=as2&tag=barban03-21&linkId=33e8ff818aaa4b45f0c320e6661773b2)

## Installation instruction

### HACS [![hacs_badge](https://img.shields.io/badge/HACS-Default-orange.svg)](https://github.com/custom-components/hacs)
1. Update HomeAssistant to version 0.96.0 or newer
2. In HACS Store, search for [***barban-dev/midea_dehumidifier***]
3. Install the custom integration
4. Activate midea_dehumidifier custom integration on your HA's configuration yaml file (see instructions below)

### Manual
1. Clone this repo
2. Copy the `custom_components/midea_dehumidifier` folder into your HA's `custom_components` folder
3. Activate midea_dehumidifier custom integration on your HA's configuration yaml file (see instructions below)


## Activate midea_dehumidifier custom integrations on your HA's configuration yaml file**

Add the following section in your ``configuration.yaml`` & restart HA
```
midea_dehumidifier:
  username: user@example.com
  password: passwordExample
```
As usual, you can hide your secret password by means of ``!secret`` notation by specifing it in ``secrets.yaml``

Alternatively, if you prefer, ``sha256password`` parameter can be used instead of the ``password`` one to specify password's sha-256 hash
```
midea_dehumi:
  username: user@example.com
  sha256password: cf76d55503cdee3....
```

If everything is ok, you will find the following two new entities in your HA dashboard:

* **humidifier.midea_dehumidifier_*[Device_ID]***
* **sensor.midea_dehumidifier_*[Device_ID]*_humidity**

By means of the humidifier entity, you can control your appliance whereas the sensor reports the detected current humidity on your environment.


## Installation Troubleshooting

After installation, final result should look similar to this:
```
\\<ha_ip_address>
    └── config
        ├── custom_components
        │   ├── midea_dehumidifier
        │       ├── __init__.py
        │       ├── humidifier.py
        │       ├── manifest.json
        │       ├── sensor.py
        │       └── services.yaml
        └── deps
            └── lib
                └── python3.6
                    └── site-packages
                        └── midea_inventor_lib
                            └── libfiles...
```

If you cannot find the midea_dehumidifier entity on HA, check the logs generated by HA to track the issue.
In order to set DEBUG level for , add the following in yout HA's configuration yaml:
XXXXXX

Copy ``/midea_inventor_lib`` folder on ``\deps\lib\python3.6\site-packages\`` of your HA's configuration shared folder.




Donations
---------
If this project helps you to reduce time to develop your code, you can make me a donation.

[![paypal](https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5E7ULVFGCGKU2&source=url)


